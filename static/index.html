<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<!--<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">-->
	<meta http-equiv="Access-Control-Allow-Methods" content="PUT, GET, POST, DELETE, OPTIONS">
	<meta http-equiv="Access-Control-Allow-Headers" content="Content-Type,Content-Length">
	<meta http-equiv="Access-Control-Expose-Headers" content="Content-Length">


	<title>Rimmap - a Web based Rimworld map viewer!</title>
	<link rel="stylesheet" href="styles/main.css">
	<link rel="stylesheet" href="styles/ui.css">

</head>

<body>
	<div id="blackout">
		<div class="sk-folding-cube">
			<div class="sk-cube1 sk-cube"></div>
			<div class="sk-cube2 sk-cube"></div>
			<div class="sk-cube4 sk-cube"></div>
			<div class="sk-cube3 sk-cube"></div>
		</div>
		<h1>Loading...</h1>
		<i id="loadingMsg">Initializing...</i>
	</div>
	<div id="content">

		<div id="window"></div>
		<div id="ui">
			<div id="topbar">
				<div id="SaveInfo">
					<span id="ColonyName"></span> <span id="MapSize"></span><br />
					<span id="MapVersion"></span> <span id="FileName"></span>
				</div>

				<button id="reloadButton" onclick="parent.location = 'https://jamessimo.itch.io/rimmap'">Load new save</button>
				<!--<button id="shareButton" onclick="toggleShareBox()">Share save</button>-->

			</div>

			<div id="filemanager">
				<div id="filegroup">
					<input type="file" id="file_input" accept=".rws" onchange="uploadSave(this);" />
					<label for="file">
					<svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
					    <!--Generated by IJSVG (https://github.com/curthard89/IJSVG)-->
					    <g fill="none">
					        <path d="M0,0h24v24h-24Z" transform="translate(0, 0.006)"></path>
					    </g>
					    <g id="dlSvg" fill="#ffffff">
					        <path d="M0,4.707l1.414,1.414l2.293,-2.293v12.586h2v-12.586l2.293,2.293l1.414,-1.414l-4.707,-4.707Z" transform="translate(7.293, 5.588)"></path>
					        <path d="M14,0h-12c-1.104,0 -2,0.896 -2,2v10c0,1.102 0.896,2 2,2h1v-2h-1v-10h12v10h-1v2h1c1.104,0 2,-0.898 2,-2v-10c0,-1.104 -0.896,-2 -2,-2Z" transform="translate(4, 2.002)"></path>
					    </g>
					</svg>
				</label>
					<h3>Load Rimworld save file</h3>

					<!-- Rimmap home AD-->
					<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-5164527156102232" data-ad-slot="9525098746">
					</ins>

				</div>
				<!--Filemanager-->

				<div id="savesgroup">
					<div id="novaSave" class="singleSave" onclick="loadSave('Nova.rws',true)">
						<div class="mapinfo">Nova - 250x250 - Medium colony</div>
					</div>
					<div id="temperateSave" class="singleSave" onclick="loadSave('Temperate.rws',true)">
						<div class="mapinfo">Temperate - 250x250 - Empty temperate forrest</div>
					</div>
					<div id="growthsThumb" class="singleSave" onclick="loadSave('GrowthsValley.rws',true)">
						<div class="mapinfo">Growth's Valley - 275x275 - Large colony</div>
					</div>
				</div>
			</div>

			<div id="settingsBar" class="bottomBar">
				<div class="switchContain">
					<span class="sliderName">HD Graphics</span>
					</br>
					<label id="hdSwitch" class="switch">
					<input id="hdCheckbox" name="hdCheckbox" type="checkbox" onchange="toggleHD()"/>
					<span class="slider round"></span>
				</label>
				</div>

				<div class="versionNum">RimMap v5.5.0 - <a href="https://twitter.com/jamessimo" target="_blank"> @jamessimo</a></div>
			</div>

			<div id="shareBox" class="modal">

				<!-- Modal content -->
				<div class="modal-content">
					<span id="closeModal" onclick="toggleShareBox()" class="close">&times;</span>

					<p>Upload your Rimworld save to the cloud and share it via a URL</p>
					<br>
					<button class="uploadBtn" onclick="uploadFileIO()">
					<i class="fa fa-circle-o-notch fa-spin"></i>	Upload & share <span id="uploadFileName">RIMWORLDSAVE</span>
					</button>
					<br>
					<div id="clip" class="input-group">
						<p>Click <img src="assets/ui/clippy.svg" width="12px" /> button to copy it to your clipboard!</p><br>
						<input id="generatedURL" type="text" readonly value="Press the upload button">
						<span class="input-group-button">
							<button class="copyBtn" type="button" data-clipboard-target="#generatedURL">
								<img class="clippy" src="assets/ui/clippy.svg" width="13" alt="Copy to clipboard">
							</button>
						</span>
					</div>
					<!--<input type="text" id="generatedURL" value="" readonly><br>-->
				</div>
			</div>

			<div id="mainGameBar" class="bottomBar">
				<div class="switchContain">
					<span class="sliderName">Items</span>
					</br>
					<label id="stuffSwitch" class="switch">
						<input id="stuffCheckbox" name="stuffCheckbox" type="checkbox" onchange="toggleStuff()" checked />
					  <span class="slider round"></span>
					</label>
				</div>
				<!--<div class="switchContain">
					<span class="sliderName">Roof</span>
					</br>
					<label id="roofSwitch" class="switch">
						<input id="roofCheckbox" name="roofCheckbox" type="checkbox" onchange="toggleRoof()" />
						  <span class="slider round"></span>
					</label>
				</div>-->
				<div class="switchContain">
					<span class="sliderName">Mountains</span>
					</br>
					<label id="mountainsSwitch" class="switch">
						<input id="mountainCheckbox" name="mountainCheckbox" type="checkbox" onchange="toggleMountain()" checked />
					  <span class="slider round"></span>
					</label>
				</div>
				<div class="switchContain">
					<span class="sliderName">Resources</span>
					</br>
					<label id="resourceSwitch" class="switch">
						<input id="resourceCheckbox" name="resourceCheckbox" type="checkbox" onchange="toggleResource()"  />
					  <span class="slider round"></span>
					</label>

				</div>
				<div class="switchContain">
					<span class="sliderName">Deep Resources</span>
					</br>
					<label id="deepResourceSwitch" class="switch">
						<input id="deepResourceCheckbox" name="deepResourceCheckbox" type="checkbox" onchange="toggleDeepResource()"  />
						<span class="slider round"></span>
					</label>
				</div>
				<div class="switchContain">
					<span class="sliderName">Planning</span>
					</br>
					<label id="planningSwitch" class="switch">
						<input id="planningCheckbox" name="planningCheckbox" type="checkbox" onchange="togglePlanning()"  />
						<span class="slider round"></span>
					</label>
				</div>
				<div class="switchContain">
					<!--<button class="buttonShowPawns">View colonists</button>-->
				</div>

				<div class="tileInfoContain">
					<div id="tileData">
						<ul>
							<li><span id="stuffName"></span></li>
							<li><span id="terrainName"></span></li>
							<li><span id="resourceName"></span></li>
							<li><span id="deepResourceName"></span></li>
						</ul>
					</div>
				</div>
				<div class="versionNum">RimMap v5.5.0 - <a href="https://twitter.com/jamessimo" target="_blank"> @jamessimo</a></div>

			</div>

		</div>
		<!-- UI -->
	</div>



	<script src="scripts/phaser.min.js"></script>
	<script src="scripts/game.js"></script>
	<script src="scripts/clipboard.min.js"></script>
	<script src="scripts/frontend.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>
</body>

</html>
